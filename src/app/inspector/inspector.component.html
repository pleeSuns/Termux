<div fxLayout="row">
  <div *ngFor="let canvasType of [START_CANVAS, END_CANVAS]">
    <div fxLayout="column"
      *ngFor="let subPathCommand of getSubPathCommands(canvasType);
          let subIdx = index;
          trackBy: trackSubPathCommand">
      <div *ngIf="canvasType === START_CANVAS || !areStartAndEndPathsLoaded()"
        fxLayout="row"
        fxLayoutAlign="start center"
        class="subpath-header-listitem">
        <button md-icon-button
          (click)="toggleExpandedState(subIdx)">
          <md-icon>{{isExpanded(subIdx) ? 'expand_less' : 'expand_more'}}</md-icon>
        </button>
        <div fxFlex
          (click)="toggleExpandedState(subIdx)">
          {{ 'Subpath #' + (subIdx + 1) }}
        </div>
      </div>
      <div class="subpath-header-listitem"
        *ngIf="canvasType === END_CANVAS && areStartAndEndPathsLoaded()"
        (click)="toggleExpandedState(subIdx)">
      </div>
      <div [hidden]="!isExpanded(subIdx)">
        <div fxLayout="column">
          <app-command [canvasType]="canvasType"
            [subIdx]="subIdx"
            [cmdIdx]="cmdIdx"
            [command]="cw.command"
            *ngFor="let cw of getCommandWrappers(canvasType, subIdx);
                    let cmdIdx = index;
                    trackBy: trackCommand">
          </app-command>
          <div *ngIf="getPlaceholderHeight(canvasType, subIdx)"
            [style.height]="getPlaceholderHeight(canvasType, subIdx, cmdIdx)">
          </div>
        </div>
      </div>
    </div>
  </div>
  <span fxFlex></span>
</div>

